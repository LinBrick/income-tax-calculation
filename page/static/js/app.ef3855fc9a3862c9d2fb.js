webpackJsonp([1],{"/wAz":function(e,t){},"4Foc":function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),r=i("zL8q"),a=i.n(r),s=(i("tvR6"),i("/wAz"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var o=i("VU/8")({name:"App"},s,!1,function(e){i("whj8")},null,null).exports,l=i("/ocq"),u={props:{winWidth:{type:Number,default:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},isMobileWidth:{type:Boolean,default:!1}},data:function(){return{form:{grossSalary:2e3,insurancesPrice:0,specialDeduction:0,threshold:5e3,dataList:[]},rules:{grossSalary:[{required:!0,message:"必填项",trigger:"change"},{type:"number",message:"必须为数字值",trigger:"change"}],insurancesPrice:[{required:!0,message:"必填项",trigger:"change"},{type:"number",message:"必须为数字值",trigger:"change"}],specialDeduction:[{required:!0,message:"必填项",trigger:"change"},{type:"number",message:"必须为数字值",trigger:"change"}]}}},computed:{inputSize:function(){return this.isMobileWidth?"small":""},buttonSize:function(){return this.isMobileWidth?"mini":""}},watch:{"form.dataList":function(e){this.$emit("refreshData",e)}},methods:{build:function(){var e=this;this.$refs.form.validate(function(t){if(t){e.form.dataList=[];for(var i=1;i<=12;i++)e.perform()}})},onSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(t){if(12===e.form.dataList.length)return void e.$message({message:"不能超过12条记录",type:"warning"});e.perform()}})},perform:function(){var e=this.form.dataList.length;if(0===e){var t=this.form.insurancesPrice+this.form.specialDeduction+this.form.threshold,i=this.form.grossSalary-t,n=i>0?i:0,r=i>0?this.calculationTax(n):0;this.form.dataList.push({index:"1月份",grossSalary:this.form.grossSalary,insurancesPrice:this.form.insurancesPrice,specialDeduction:this.form.specialDeduction,threshold:this.form.threshold,taxAmount:n,tax:r>0?r:0,afterTax:this.form.grossSalary-this.form.insurancesPrice-r})}else{var a=this.getValueTotal("grossSalary",this.form.grossSalary)-(this.getValueTotal("insurancesPrice",this.form.insurancesPrice)+this.getValueTotal("specialDeduction",this.form.specialDeduction)+this.getValueTotal("threshold",this.form.threshold)),s=a>0?a:0,o=(a>0?this.calculationTax(s):0)-this.getValueTotal("tax");this.form.dataList.push({index:e+1+"月份",grossSalary:this.form.grossSalary,insurancesPrice:this.form.insurancesPrice,specialDeduction:this.form.specialDeduction,threshold:this.form.threshold,taxAmount:s,tax:o>0?o:0,afterTax:this.form.grossSalary-this.form.insurancesPrice-o})}},calculationTax:function(e){switch(!0){case e>=36e3&&e<144e3:return.1*e-2520;case e>=144e3&&e<3e5:return.2*e-16920;case e>=3e5&&e<42e4:return.25*e-31920;case e>=42e4&&e<66e4:return.3*e-52920;case e>=66e4&&e<96e4:return.35*e-85920;case e>=96e4:return.45*e-181920;default:return.03*e}},getValueTotal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;return this.form.dataList.forEach(function(t){i+=t[e]}),i+t},resetFormData:function(e){this.form.dataList=[]}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"税前工资",prop:"grossSalary"}},[i("el-input",{attrs:{size:e.inputSize,maxlength:"12"},model:{value:e.form.grossSalary,callback:function(t){e.$set(e.form,"grossSalary",e._n(t))},expression:"form.grossSalary"}},[i("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"五险一金",prop:"insurancesPrice"}},[i("el-input",{attrs:{size:e.inputSize,maxlength:"10"},model:{value:e.form.insurancesPrice,callback:function(t){e.$set(e.form,"insurancesPrice",e._n(t))},expression:"form.insurancesPrice"}},[i("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"专项扣除",prop:"specialDeduction"}},[i("el-input",{attrs:{size:e.inputSize,maxlength:"10"},model:{value:e.form.specialDeduction,callback:function(t){e.$set(e.form,"specialDeduction",e._n(t))},expression:"form.specialDeduction"}},[i("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"起征点"}},[i("el-input",{attrs:{size:e.inputSize,disabled:""},model:{value:e.form.threshold,callback:function(t){e.$set(e.form,"threshold",e._n(t))},expression:"form.threshold"}},[i("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:e.buttonSize,type:"primary"},on:{click:e.build}},[e.isMobileWidth?[i("i",{staticClass:"iconfont iconshengchengbaobiao"})]:[e._v("\n        生成一年\n      ")]],2),e._v(" "),i("el-button",{attrs:{size:e.buttonSize,type:"primary"},on:{click:e.onSubmit}},[e.isMobileWidth?[i("i",{staticClass:"iconfont iconchuangjian"})]:[e._v("\n        单月创建\n      ")]],2),e._v(" "),i("el-button",{attrs:{size:e.buttonSize},on:{click:e.resetFormData}},[e.isMobileWidth?[i("i",{staticClass:"iconfont iconzhongzhi"})]:[e._v("\n        重置\n      ")]],2)],1)],1)},staticRenderFns:[]},d=i("VU/8")(u,c,!1,null,null,null).exports,f={filters:{numberToFixed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e<0&&(e=0),e.toFixed(t).replace(".00","")}},props:{dataList:{type:Array,default:function(){return[]}},isMobileWidth:{type:Boolean,default:!1}},methods:{getSummaries:function(e){var t=e.columns,i=e.data,n=[];return t.forEach(function(e,t){if(0!==t){var r=i.map(function(t){return Number(t[e.property])});r.every(function(e){return isNaN(e)})?n[t]="--":(n[t]=r.reduce(function(e,t){var i=Number(t);return isNaN(i)?e:e+t},0),n[t]=n[t].toFixed(2).replace(".00",""),n[t]+=" 元")}else n[t]="总计"}),n}}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,"summary-method":e.getSummaries,border:"","show-summary":""}},[i("el-table-column",{attrs:{prop:"index",label:"月份",fixed:"left"}}),e._v(" "),i("el-table-column",{attrs:{label:"税前工资",prop:"grossSalary"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(e._f("numberToFixed")(t.row.grossSalary))+"元\n    ")]}}])}),e._v(" "),e.isMobileWidth?e._e():i("el-table-column",{attrs:{label:"五险一金",prop:"insurancesPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(e._f("numberToFixed")(t.row.insurancesPrice))+"元\n    ")]}}],null,!1,3195541997)}),e._v(" "),e.isMobileWidth?e._e():i("el-table-column",{attrs:{label:"专项扣除",prop:"specialDeduction"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(e._f("numberToFixed")(t.row.specialDeduction))+"元\n    ")]}}],null,!1,3457133063)}),e._v(" "),i("el-table-column",{attrs:{label:"最终个税",prop:"tax"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(e._f("numberToFixed")(t.row.tax))+"元\n    ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"税后工资",prop:"afterTax",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(e._f("numberToFixed")(t.row.afterTax))+"元\n    ")]}}])})],1)},staticRenderFns:[]},h={components:{CountTax:d,TaxDetails:i("VU/8")(f,m,!1,null,null,null).exports},data:function(){return{dataList:[],winWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},computed:{isMobileWidth:function(){return this.winWidth<=720}},mounted:function(){var e=this;window.addEventListener("resize",function(){e.winWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})},methods:{updateDataList:function(e){this.dataList=e}}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"box"},[t("div",{staticClass:"box-count"},[t("count-tax",{attrs:{"win-width":this.winWidth,"is-mobile-width":this.isMobileWidth},on:{refreshData:this.updateDataList}})],1),this._v(" "),t("div",{staticClass:"box-details"},[t("tax-details",{attrs:{"data-list":this.dataList,"is-mobile-width":this.isMobileWidth}})],1)])},staticRenderFns:[]};var b=i("VU/8")(h,p,!1,function(e){i("4Foc")},"data-v-c3cbc72c",null).exports;n.default.use(l.a);var g=new l.a({base:"/income-tax-calculation-view/",routes:[{path:"/",name:"Index",component:b}]});n.default.config.productionTip=!1,n.default.use(a.a),new n.default({el:"#app",router:g,components:{App:o},template:"<App/>"})},tvR6:function(e,t){},whj8:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ef3855fc9a3862c9d2fb.js.map